<%# locals: (presenter:) -%>

<div id="setup_summary_status" class="mb-5">
  <aside class="col-12">
    <div class="callout callout-success">
      <% if presenter.event_group.visible? %>
        <div class="row">
          <div class="col-12 col-md-9">
            <span class="text-success me-1"><%= fa_icon "check-circle" %></span>
            <span class="h5">Congratulations, your Event Group is public!</span>
            <p>Results and Follow pages are now available for your entrants to view.</p>
          </div>
          <div class="col-12 col-md-3 text-center text-md-end pt-3 pt-md-0">
            <%= link_to "Take Private",
                        organization_event_group_path(presenter.organization, presenter.event_group, event_group: { concealed: true }),
                        method: :patch,
                        data: { confirm: t("event_groups.setup.make_private_confirm", event_group_name: presenter.event_group_name) },
                        class: "btn btn-outline-success" %>
          </div>
        </div>
      <% else %>
        <div class="row">
          <div class="col-12 col-md-9">
            <span class="text-info me-1"><%= fa_icon "info-circle" %></span>
            <span class="h5">Your Event Group is still private</span>
            <p>Once your Events and Courses are ready and you have Entrants loaded, click the "Go Public" button to make
              your Event Group visible to the public.</p>
          </div>
          <div class="col-12 col-md-3 text-center text-md-end pt-3 pt-md-0">
            <%= link_to "Go Public",
                        organization_event_group_path(presenter.organization, presenter.event_group, event_group: { concealed: false }),
                        method: :patch,
                        data: { confirm: t("event_groups.setup.make_public_confirm", event_group_name: presenter.event_group_name) },
                        class: "btn btn-outline-success" %>
          </div>
        </div>
      <% end %>
    </div>
  </aside>

  <aside class="col-12">
    <div class="callout callout-success">
      <% if presenter.event_group.available_live? %>
        <div class="row">
          <div class="col-12 col-md-9">
            <span class="h5">Your Event Group is available for Live Entry</span>
            <p>You can now access the Live Entry view and use OST Remote to record times.</p>
          </div>
          <div class="col-12 col-md-3 text-center text-md-end pt-3 pt-md-0">
            <%= link_to "Disable Live Entry",
                        organization_event_group_path(presenter.organization, presenter.event_group, event_group: { available_live: false }),
                        method: :patch,
                        data: { confirm: t("event_groups.setup.disable_live_confirm", event_group_name: presenter.event_group_name) },
                        class: "btn btn-outline-success" %>
          </div>
        </div>
      <% else %>
        <div class="row">
          <div class="col-12 col-md-9">
            <span class="text-warning me-1"><%= fa_icon "exclamation-circle" %></span>
            <span class="h5">Your Event Group is not yet available for Live Entry</span>
            <p>You will not be able to use the Live Entry view or OST Remote to record times for this Event Group until
              you make it available by clicking the "Enable Live Entry" button.</p>
          </div>
          <div class="col-12 col-md-3 text-center text-md-end pt-3 pt-md-0">
            <%= link_to "Enable Live Entry",
                        organization_event_group_path(presenter.organization, presenter.event_group, event_group: { available_live: true }),
                        method: :patch,
                        data: { confirm: t("event_groups.setup.enable_live_confirm", event_group_name: presenter.event_group_name) },
                        class: "btn btn-outline-success" %>
          </div>
        </div>
      <% end %>
    </div>
  </aside>
</div>
